<!DOCTYPE html>
<html>

<head>
  <title>Muokkaa väylien tietoja</title>
</head>

<body>
  <h1>Muokkaa väylien tietoja</h1>
  <form action="/update_round_full" method="post">
    <p>
      Nimi: <br />
      <input inert type="text" value={{round.coursename}} name="coursename" />
    </p>
    <p>
      Väylien lukumäärä: <br />
      <input inert type="text" value={{round.num_holes}} name="num_holes" />
    </p>
    {% for i in range(1, 1 + round.num_holes|int) %}
      <p>
        Väylä {{i}}: <br />
        Par: <br />
        {% set par_val = round.hole_data[i]["par"] if i <= round.hole_data|length else constants.hole_par_default %}
        <input
          type="number"
          value="{{par_val}}"
          min="{{constants.hole_par_min}}"
          max="{{constants.hole_par_max}}"
          oninput="this.value = Math.min('{{constants.hole_par_max}}', Math.max(this.value|0, '{{constants.hole_par_min}}'))"
          name="par_{{i}}"
        /><br />
        Pituus (m): <br />
        {% set length_val = round.hole_data[i]["length"] if i <= round.hole_data|length else constants.hole_length_default %}
        <input
          type="number"
          value="{{length_val}}"
          min="{{constants.hole_length_min}}"
          max="{{constants.hole_length_max}}"
          oninput="this.value = Math.min('{{constants.hole_length_max}}', Math.max(this.value|0, '{{constants.hole_length_min}}'))"
          name="length_{{i}}"
        /><br />
      </p>
    {% endfor %}
    <input type="submit" value="Tallenna muutokset" />
    <input type="hidden" name="id" value="{{ round.id }}" />
    <input type="hidden" name="start_time" value="{{ round.start_time }}" />
    <input type="hidden" name="num_players" value="{{ round.num_players }}" />
  </form>
</body>

</html>
